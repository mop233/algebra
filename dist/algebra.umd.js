!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global="undefined"!=typeof globalThis?globalThis:global||self).algebra=factory()}(this,(function(){"use strict";function _assertClassBrand(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _classPrivateMethodInitSpec(e,a){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,a),a.add(e)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=function(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof i?i:i+""}var _Decimal,NAME="[algebra.js] ",INVALID_ARG=NAME+"Invalid Argument.",DIV_BY_ZERO=NAME+"Division by Zero.",MUST_BE_INT=NAME+"Must be type of Integer.",random=function(num1,num2){var min=num1<num2?num1:num2,max=num1>num2?num1:num2;return Math.floor(Math.random()*(Math.floor(max)-Math.ceil(min)+1)+Math.ceil(min))},_Decimal_brand=new WeakSet,Decimal=function(){return _createClass((function Decimal(_arg){_classCallCheck(this,Decimal),_classPrivateMethodInitSpec(this,_Decimal_brand);var str=String(function(arg){var o,t=null==(o=arg)?void 0:o.constructor.name.toLowerCase();if("number"===t)return isNaN(arg)?0:arg;if("string"===t)return isNaN(parseFloat(arg))?arg.length:parseFloat(arg);if("boolean"===t)return+arg;if("array"===t)return isNaN(+arg)?arg.length:+arg;if("object"===t)return isNaN(+arg)?0:+arg;if("date"===t)return+arg;if(arg instanceof Decimal$1)return+arg;throw new TypeError(INVALID_ARG)}(_arg));this.val=+str,this.int=+str.replace(".",""),this.exp=str.indexOf(".")<0?0:str.split(".")[1].length,Object.freeze(this)}),[{key:"valueOf",value:function(){return this.val}},{key:"toString",value:function(){return String(this.val)}},{key:"isInteger",value:function(){return Number.isInteger(+this)}},{key:"isEven",value:function(){return this.isInteger()&&+this%2==0}},{key:"isOdd",value:function(){return this.isInteger()&&+this%2!=0}},{key:"eq",value:function(arg){return 0===this.constructor.compare(this,arg)}},{key:"gt",value:function(arg){return this.constructor.compare(this,arg)>0}},{key:"gte",value:function(arg){return this.constructor.compare(this,arg)>=0}},{key:"lt",value:function(arg){return this.constructor.compare(this,arg)<0}},{key:"lte",value:function(arg){return this.constructor.compare(this,arg)<=0}},{key:"add",value:function(){var arg=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=_assertClassBrand(_Decimal_brand,this,_instance$1).call(this,arg),e1=this.exp,e2=d.exp;return _assertClassBrand(_Decimal_brand,this,_instance$1).call(this,(this.int*Math.pow(10,e2)+d.int*Math.pow(10,e1))/Math.pow(10,e1+e2))}},{key:"sub",value:function(){var arg=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=_assertClassBrand(_Decimal_brand,this,_instance$1).call(this,arg);return this.add(d.neg())}},{key:"mul",value:function(){var arg=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,d=_assertClassBrand(_Decimal_brand,this,_instance$1).call(this,arg),e=this.exp+d.exp;return _assertClassBrand(_Decimal_brand,this,_instance$1).call(this,this.int*d.int/Math.pow(10,e))}},{key:"div",value:function(){var arg=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,d=_assertClassBrand(_Decimal_brand,this,_instance$1).call(this,arg);if(d.eq(0))throw new TypeError(DIV_BY_ZERO);var e=d.exp-this.exp;return _assertClassBrand(_Decimal_brand,this,_instance$1).call(this,this.int/d.int).mul(Math.pow(10,e))}},{key:"abs",value:function(){return _assertClassBrand(_Decimal_brand,this,_instance$1).call(this,Math.abs(+this))}},{key:"neg",value:function(){return this.mul(-1)}},{key:"mod",value:function(arg){var d=_assertClassBrand(_Decimal_brand,this,_instance$1).call(this,arg);if(d.eq(0))return _assertClassBrand(_Decimal_brand,this,_instance$1).call(this,this);var e=this.exp>d.exp?this.exp:d.exp;return _assertClassBrand(_Decimal_brand,this,_instance$1).call(this,+this.mul(Math.pow(10,e))%+d.mul(Math.pow(10,e))/Math.pow(10,e))}}],[{key:"compare",value:function(arg1,arg2){var d1=new this(arg1),d2=new this(arg2),e=d1.exp>d2.exp?d1.exp:d2.exp,p1=+d1.mul(Math.pow(10,e)),p2=+d2.mul(Math.pow(10,e));return p1>p2?1:p1<p2?-1:0}},{key:"gcd",value:function(){for(var _this=this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var dArr=args.map((function(arg){return new _this(arg)})),_g=function(a,b){return b.eq(0)?a.abs():_g(b,a.mod(b))};try{return dArr.reduce((function(prev,next){return _g(prev,next)}))}catch(error){throw new TypeError(INVALID_ARG)}}},{key:"lcm",value:function(){for(var _this2=this,_len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];var dArr=args.map((function(arg){return new _this2(arg)}));try{return dArr.reduce((function(prev,next){return b=next,(a=prev).eq(0)&&b.eq(0)?0:a.mul(b).div(_this2.gcd(a,b)).abs();var a,b}))}catch(error){throw new TypeError(INVALID_ARG)}}},{key:"random",value:function(){var end=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,prec=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=new this(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0),e=new this(end),p=new this(prec);if(s.isInteger()&&e.isInteger()&&p.isInteger()){for(var min=s.lt(e)?s:e,max=s.gt(e)?s:e,intPart=random(+min,+max),decPart=".",i=0;i<+p.sub(1);i++)decPart+=random(0,9);decPart+=random(1,9);var result=p.gt(0)?new this(intPart+decPart):new this(intPart);return result.lt(min)&&!min.eq(max)?result.add(1):result.gt(max)&&!min.eq(max)?result.sub(1):result}throw new TypeError(MUST_BE_INT)}}])}();function _instance$1(arg){return new _Decimal(arg)}_Decimal=Decimal;var _Fraction,Decimal$1=Object.freeze(Decimal),_Fraction_brand=new WeakSet,Fraction=function(){return _createClass((function Fraction(_numer){var _denom=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(_classCallCheck(this,Fraction),_classPrivateMethodInitSpec(this,_Fraction_brand),this.numer=new Decimal$1(_numer),this.denom=new Decimal$1(_denom),this.denom.eq(0))throw new TypeError(DIV_BY_ZERO);this.numer.eq(0)&&(this.denom=new Decimal$1(1)),Object.freeze(this)}),[{key:"valueOf",value:function(){return+this.numer.div(this.denom)}},{key:"toString",value:function(){if(this.numer.eq(0)||this.denom.eq(1))return"".concat(+this);var n=this.numer.abs(),d=this.denom.abs();return+this>0?"".concat(n,"/").concat(d):"-".concat(n,"/").concat(d)}},{key:"toTex",value:function(){if(this.numer.eq(0)||this.denom.eq(1))return"".concat(+this);var n=this.numer.abs(),d=this.denom.abs();return+this>0?"\\frac{".concat(n,"}{").concat(d,"}"):"-\\frac{".concat(n,"}{").concat(d,"}")}},{key:"isInteger",value:function(){return Number.isInteger(+this)}},{key:"eq",value:function(arg){return 0===this.constructor.compare(this,arg)}},{key:"gt",value:function(arg){return this.constructor.compare(this,arg)>0}},{key:"gte",value:function(arg){return this.constructor.compare(this,arg)>=0}},{key:"lt",value:function(arg){return this.constructor.compare(this,arg)<0}},{key:"lte",value:function(arg){return this.constructor.compare(this,arg)<=0}},{key:"reduce",value:function(){var g=Decimal$1.gcd(this.numer,this.denom);return _assertClassBrand(_Fraction_brand,this,_instance).call(this,this.numer.div(g),this.denom.div(g))}},{key:"add",value:function(){var arg=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_assertClassBrand(_Fraction_brand,this,_instance).call(this,0),simplify=arguments.length>1&&void 0!==arguments[1]&&arguments[1];arg instanceof this.constructor||(arg=_assertClassBrand(_Fraction_brand,this,_instance).call(this,arg));var l=Decimal$1.lcm(this.denom,arg.denom),q1=l.div(this.denom),q2=l.div(arg.denom),f=_assertClassBrand(_Fraction_brand,this,_instance).call(this,this.numer.mul(q1).add(arg.numer.mul(q2)),l);return simplify?f.reduce():f}},{key:"sub",value:function(){var arg=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_assertClassBrand(_Fraction_brand,this,_instance).call(this,0),simplify=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return arg instanceof this.constructor||(arg=_assertClassBrand(_Fraction_brand,this,_instance).call(this,arg)),this.add(arg.neg(),simplify)}},{key:"mul",value:function(){var arg=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_assertClassBrand(_Fraction_brand,this,_instance).call(this,1),simplify=arguments.length>1&&void 0!==arguments[1]&&arguments[1];arg instanceof this.constructor||(arg=_assertClassBrand(_Fraction_brand,this,_instance).call(this,arg));var f=_assertClassBrand(_Fraction_brand,this,_instance).call(this,this.numer.mul(arg.numer),this.denom.mul(arg.denom));return simplify?f.reduce():f}},{key:"div",value:function(){var arg=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_assertClassBrand(_Fraction_brand,this,_instance).call(this,1),simplify=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return arg instanceof this.constructor||(arg=_assertClassBrand(_Fraction_brand,this,_instance).call(this,arg)),this.mul(arg.rec(),simplify)}},{key:"abs",value:function(){var simplify=arguments.length>0&&void 0!==arguments[0]&&arguments[0],f=_assertClassBrand(_Fraction_brand,this,_instance).call(this,this.numer.abs(),this.denom.abs());return simplify?f.reduce():f}},{key:"neg",value:function(){var simplify=arguments.length>0&&void 0!==arguments[0]&&arguments[0],f=_assertClassBrand(_Fraction_brand,this,_instance).call(this,this.numer.mul(-1),this.denom);return simplify?f.reduce():f}},{key:"rec",value:function(){var simplify=arguments.length>0&&void 0!==arguments[0]&&arguments[0],f=_assertClassBrand(_Fraction_brand,this,_instance).call(this,this.denom,this.numer);return simplify?f.reduce():f}}],[{key:"compare",value:function(){var arg1=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new this,arg2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new this;arg1 instanceof this||(arg1=new this(arg1)),arg2 instanceof this||(arg2=new this(arg2));var p1=arg1.numer.mul(arg2.denom),p2=arg1.denom.mul(arg2.numer);return p1.gt(p2)?1:p1.lt(p2)?-1:0}},{key:"random",value:function(){var numer,denom,start1=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,end1=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,prec1=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,start2=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,end2=arguments.length>4&&void 0!==arguments[4]?arguments[4]:9,prec2=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;do{numer=Decimal$1.random(start1,end1,prec1),denom=Decimal$1.random(start2,end2,prec2)}while(denom.eq(0));return new this(numer,denom)}}])}();function _instance(numer,denom){return new _Fraction(numer,denom)}_Fraction=Fraction;var Fraction$1=Object.freeze(Fraction),algebra={version:"1.0.15",Decimal:Decimal$1,Fraction:Fraction$1};return Object.freeze(algebra)}));
